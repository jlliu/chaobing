<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CHAO BING TEST</title>
  <link rel="stylesheet" type="text/css" href="style.css" />
  <script src="lib/p5.min.js"></script>
  <script src="lib/tone.js"></script>

  <script src="scenesInfo.js"></script>
  <script src="audio.js" defer></script>
  <script src="story.js" defer></script>

  <script src="refreshIdle.js" defer></script>

  <script src="game1.js" defer></script>
  <script src="game2.js" defer></script>
  <script src="game3.js" defer></script>
  <script src="game4.js" defer></script>
  <script src="game5.js" defer></script>
  <script src="game6.js" defer></script>
  <script src="game7.js" defer></script>
  <script src="sketch_end.js" defer></script>

</head>

<body>
  <main>
    <img src="assets/UI/title.png" class="titleImg"/>
    <div id="canvas-story"></div>
    <div id="canvas-game1"></div>
    <div id="canvas-game2"></div>
    <div id="canvas-game3"></div>
    <div id="canvas-game4"></div>
    <div id="canvas-game4a"></div>
    <div id="canvas-game5"></div>
    <div id="canvas-game6"></div>
    <div id="canvas-game7"></div>
    <video>
      <source src="/assets/video/ending.mp4" type="video/mp4">
      <track
      label="English"
      kind="captions"
      srclang="en"
      src="/assets/video/captions.vtt"
      default />
    </video>
    <div id="canvas-end"></div>
  </main>
  <!-- <script>
    let time = 1000;
    const restartButtonLoading = document.createElement('button');
    restartButtonLoading.innerText = 'Taking too long to load? Click to Refresh';
    restartButtonLoading.style.position= 'absolute';
    restartButtonLoading.style.left= '16px';
    restartButtonLoading.style.top= '16px';
    restartButtonLoading.style.pointerEvents = 'all';
    restartButtonLoading.style.visibility ='hidden';
    restartButtonLoading.addEventListener('click', function(){
      location.href = '/';
    });
    window.setTimeout(function(){
      restartButtonLoading.style.visibility ='visible';
    }, time);
    document.body.appendChild(restartButtonLoading);
  </script> -->
  <script>
    let maxLoadTime = 15000;

    setTimeout(function () {
      if (!isGameSetup) {
        location.href = "/";
      }
    }, maxLoadTime);
  </script>
 </body>

</html>
